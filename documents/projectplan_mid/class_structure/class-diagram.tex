%!tikz editor 1.0
%!tikz source begin
\begin{tikzpicture}[node distance=4.5cm, scale=0.5, transform shape]
	\font\btt=rm-lmtk10
	\definecolor{PresiBlue}{RGB}{50,57,171}
	
	\tikzstyle{class}=[
		rectangle, draw=black, rounded corners, rectangle split, rectangle split parts=3, 
		fill=PresiBlue, drop shadow, font=\tt,
        text centered, anchor=north, text=white, text width=3.5cm]
		
	\tikzstyle{comment}=[
		rectangle, draw=black, rounded corners, fill=green, drop shadow,
        text centered, anchor=north, text=white, text width=3cm]
		
	\tikzstyle{inheritance}=[draw, ->, >=open triangle 60, thick]
	\tikzstyle{property}=[draw, <-, >=open diamond, thick]
	\tikzstyle{line}=[-, thick]
   
   % Classes
      
	\node (enemyteam) [class]
	{
		\btt EnemyTeam
		
		\nodepart{second}
		-m\char`_robots
		
		\nodepart{third}
		+getObstacles()\\
		+getNextPlayer()
	};
	
	\node (ownteam) [class, right= of enemyteam.north , anchor=north]
	{
		\btt OwnTeam
		
		\nodepart{second}
		-m\char`_robots
		
		\nodepart{third}
		+getGoalie()\\
		+getFirstPlayer()\\
		+getSecondPlayer()\\
		+getObstacles()
	};
    
	\node (intelligentball) [class, right= of ownteam.north, anchor=north]
	{
		\btt IntelligentBall
		
		\nodepart{second}
		-m\char`_ball
		
		\nodepart{third}
		+getDirection()\\
		+getFieldSide()\\
		+isMoving()
	};
	
	\node (readablerobot) [class, below of=enemyteam]
	{
		\btt ReadableRobot
		
		\nodepart{second}
		-m\char`_roboControl
		
		\nodepart{third}
		+getPosition()\\
		+getObstacle()
	};
		
	\node (controllablerobot) [class, right= of readablerobot.north, anchor=north]
	{
		\btt ControllableR.
		
		\nodepart{second}
		-m\char`_roboControl
		
		\nodepart{third}
		+moveToInprecise()\\
		+moveToPrecise()\\
		+kick()\\
		+stop()
	};
	
	\node (ball) [class, right= of controllablerobot.north, anchor=north]
	{
		\btt Ball
		
		\nodepart{second}
		-m\char`_rawBall
		
		\nodepart{third}
		+getPosition()\\
		+getVelocity()
	};
	
	\node (game) [class, above= of ownteam, anchor=north]
	{
		\btt Game
		
		\nodepart{second}
		-m\char`_enemyTeam\\
		-m\char`_ownTeam\\
		-m\char`_ball\\
		
		\nodepart{third}
		+isRunning()\\
		+getOwnFieldSide()
	};
	
	\node (statemachine) [class, left= of game.north, anchor=north]
	{
		\btt StateMachine
		
		\nodepart{third}
		+executeNextStep()
	};
	
	\node (strategy) [class, right= of game.north, anchor=north]
	{
		\btt Strategy
		
		\nodepart{third}
		+decideNextStep()
	};
	% Connections
	\path [inheritance] (controllablerobot.west) +(0,-1.3) -| (readablerobot);
	\path [property] (controllablerobot) -- (ownteam);
	\path [property] (readablerobot) -- (enemyteam);
	\path [property] (ball) -- (intelligentball);
	\path [property] (enemyteam.north) -- +(0,1) -| (game.south);
	\path [property] (ownteam.north) -- +(0,1) -| (game.south);
	\path [property] (intelligentball.north) -- +(0,1) -| (game.south);
	
	% Background Box
	\begin{pgfonlayer}{background}
		\draw [dashed, very thick, red] ($(enemyteam.north west) + (-1,0.7)$) -- ($(intelligentball.north east) + (1,0.7)$);
		\draw [dashed, very thick, red] ($(readablerobot.north west) + (-1,0.7)$) -- ($(ball.north east) + (1,0.7)$);
		\draw ($(ball.south east) + (1,-0.4)$) node [left, red] {\textbf{\textit{Abstraction}}};
		\draw ($(ball.north east) + (1,1)$) node [left, red] {\textbf{\textit{Autonomous}}};
		\draw ($(intelligentball.north east) + (1,1)$) node [left, red] {\textbf{\textit{Control}}};
	\end{pgfonlayer}

	
\end{tikzpicture}
%!tikz source end
